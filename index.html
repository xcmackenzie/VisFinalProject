
      
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Project</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
   <link rel="stylesheet" href="./style.css">

    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.1.1/d3.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <script defer src="main.js" defer type="module"></script>
    <script defer src="LineChart.js" defer type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.18.2"></script>

</head>
<body>
    <div class="container">
        <div class = "title">
            <h1>
                Has BC Become More Diverse? <br><i style="font-size:35px">A look into the past 45 years</i>
            </h1>
            <h5>Below we look at how the BC population has changed by ethnicity, gender, geographical region, and international status over the past 45 years. We also compared the ethnicity and gender distribution at BC to other peer institutions such as Georgetown, Notre Dame, Boston University, and Northeastern based off of their 2020 demographics. From these visualizations, we are better able to understand the demographic changes at BC and the extent to which it has become more diverse.</h5>  

        </div>        
        <div class = "viz-container">
           
            <h3>How has the distribution of ethnicities changed over time? How does this compare to the ethnic distribution of the country overall?</h3>
            <div class = "row ethnicity">
                <div class = "column">
                    <div id = "stacked-area"></div>
                </div>
                <div class = "column">
                    <div id = "dot-plot"></div>
                </div>
            </div>  
            <h5>From the graph on the left, you can see BC has become more diverse overtime, though the change has been slow. From the visualization on the right, it can be seen that the undergrad population is considerably and consistently more white than the US population. Over the past 30 years, BC has also had a growing Asian population, that has grown at a faster rate at BC than it has in the US overall. Conversely, Hispanic and Black Students have been consistently underrepresented at BC and from these visualizations it is evident that this problem has not decreased. </h5>       
         <div class = "viz-container">
            <h3>How has the gender distribution of students overall changed over time?</h3>
              <div id="chartContainer"></div>
              <button id="button">Update Chart Type</button>
                     <div class = "line-chart"></div>
                <div class="user-control">
                    <div class = "chart-area"></div>
                <div class="user-control">               
                      
            
            <h3>What is the gender distribution of each school over time?</h3>
            <div class = "pie-chart">
                <div id = "school-pie-chart"></div>
            </div>
            <h5>In this Visualization we can see gender trends throughout different schools at BC, as well as for the BC population as a whole. Since the 1980’s, The total undergraduate body has shifted slightly closer a 50/50 split of males to females but there has consistently been more females. MCAS, the school of arts and sciences very closely mirrors the trends of the overall student body. The Lynch School of Education and human development is predominantly female, though there has been an increase of male representation since the 1980’s. The nursing school shows a similar trend as LSOE, however the ratio is even more skewed towards females, except in 2000 where there was a considerable increase in male representation. The business school has become less diverse overtime. Though it has been consistently male dominated since the 80’s, this trend has become consistently more pronounced since 1985. </h5>  

            <h3>How has the geographic distribution of students at BC changed over time?</h3>
            <div class = "row map">
                <div class = "column">
                    <p><strong>Number of Students from Each State in 1976</strong></p>
                    <div class = "map-1976"></div>
                </div>
                <div class = "column">
                    <p id = "state-name"><br>Alabama</p>
                    <p id = "state-info">
                        1976: 2<br>
                        1980: 1 <br>
                        1985: 3<br>
                        1990: 11<br>
                        1995: 13<br>
                        2000: 10<br>
                        2005: 10<br>
                        2010: 11<br>
                        2015: 7<br>
                        2020: 21
                    </p>
                </div>
                <div class = "column">
                    <p><strong>Number of Students from Each State in 2020</strong></p>
                    <div class = "map-2020"></div>
                </div>
            </div>
            <h5> The geographical diversity of BC from different parts of the country has increased since since the 70’s. The US has increasingly brought in students from places outside of the northeast since the 70s. This change is particularly noticeable for states such as California, Texas, Florida, Minnesota, and Washington. However, there are still areas of the country that are underrepresented such as midwest states outside of the Great Lakes region and Southern States, excluding Texas and Florida.</h5>  
            <div class = "single-container">
                <h3>How has the number of international students changed over time?</h3>
                <div id = "intl-line-chart"></div>
                <h5> The number of international students at BC has increased considerably since 1976. The increase been particularly strong since 2010. This increase in international students has the potential have a positive impact on the overall diversity of BC, as well as the diversity of thought due to the influence of differing backgrounds and experiences. </h5>  

            </div>
            <h3>How Do BC's Demographics Compare to Peer Institutions?</h3>
            <div class = "row">
                <div class = "column">
                    <div id = "stacked-bar"></div>
                </div>
                <div class = "column">
                    <div id = "stacked-bar2"></div>
                </div>
        </div>
        <div class = "row">
            <div class = "column">
                <h5> The gender distribution across all of the institutions examined are similar with females being represented at higher rates than males, except for at Notre Dame. This difference is most pronounced at BU and Georgetown and is the least pronounced at Northeastern and Notre Dame. BC falls between these two groups.</h5>  
            </div>
            <div class = "column">
                <h5> The representation of different ethnicities varies among BC and their peer universities. The final column shows the ethnic breakdown for the US as a whole which can be compared with the universities to see which are most representative. All of the universities except for Notre Dame significantly overrepresent Asian students. All of the universities, including BC underrepresent Black and Hispanic students. White students are over represented at BC and Notre Dame. Overall, Northeastern and BU have the most representation of minority students and BC and Notre Dame have the least minority representation. </h5>  

            </div>
    </div>
    </div>
    <div id ="map-tooltip" class = "hidden tooltip"></div>
    <div id = "state-line-tooltip" class = "hidden tooltip"></div>
    <div id="bar-tooltip" class="hidden tooltip">
    <div id="line-tooltip" class="hidden tooltip">
    <div id="area-tooltip" class="hidden tooltip">
    <div id="pie-tooltip" class="hidden tooltip">
    <div id="top-five-tooltip" class="hidden tooltip">
    <script>
        var stacked_area = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "Number of Students of Each Ethnicity by Year",
            "data": {"url": "data/bcethnicity.csv"},
            "width": 350,
            "height": 250,
            "transform": [
                {"filter": "datum.Source == \"BC\""}
                ],
            "params": [{
                "name": "grid",
                "select": "interval",
                "bind": "scales"
            }],
            "mark": {"type": "area", "tooltip": true},
            "encoding": {
                "x": {
                    "field": "Year",
                    "title": "Year",
                    "type": "temporal"
                },
                "y": {
                    "field": "Total",
                    "title": "Total",
                    "type": "quantitative"
                },
                "color": {
                    "field": "Ethnicity",
                    "type": "nominal",
                    "scale": {"scheme": "set3"}
                },
                "tooltip": [
                    {
                        "field": "Ethnicity",
                        "type": "nominal"
                    },
                    {
                        "field": "Year",
                        "type": "temporal",
                        "timeUnit": "year",
                        "title": "Year"
                    },
                    {
                        "field": "Total",
                        "type": "quantitative"
                    },
                    {
                        "field": "Percent",
                        "type": "quantitative"
                    }
                ],
            }
        }

        var dot_plot = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "Percentage of Students of Each Ethnicity at BC vs. in the US",
            "data": {"url": "data/bcethnicity.csv",
            "format": {
                "type": "csv",
                "parse": {
                "Year": "number"
                }
                }
            },
            "transform": [
                {"filter": "datum.Year == Yr_Year"}
            ],
            "width": 400,
            "height": 250,
            "encoding": {
                "x": {
                    "field": "Percent",
                    "type": "quantitative",
                    "title": "Percent"
                },
                "y": {
                    "field": "Ethnicity",
                    "type": "nominal",
                    "title": "Ethnicity",
                    "axis": {
                        "offset": 5,
                        "ticks": false,
                        "minExtent": 70,
                        "domain": false
                    }
                }
            },
            "layer": [
                {
                "mark": "line",
                "encoding": {
                    "detail": {
                    "field": "Ethnicity",
                    "type": "nominal"
                    },
                }
                },
                {
                "params": [{
                    "name": "Yr",
                    "select": {"type": "point", "fields": ["Year"]},
                    "bind": {
                    "Year": {
                        "input": "range",
                        "min": 1980,
                        "max": 2020,
                        "step": 10}
                    }
                }],
                "mark": {
                    "type": "point",
                    "filled": true,
                    "tooltip": true
                },
                "encoding": {
                    "color": {
                    "field": "Source",
                    "type": "ordinal",
                    "title": "Source",
                    "scale": {
                        "domain": ["BC", "US"],
                        "range": ["darkred", "grey"]
                    }
                    },
                    "size": {"value": 100},
                    "opacity": {"value": 1}
                    }
                }
            ]
        }
        vegaEmbed('#stacked-area', stacked_area);
        vegaEmbed('#dot-plot', dot_plot);

        var stacked_bar = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "Gender Distribution at BC vs Peer Universities",
            "data": {"url": "data/otherschoolsgender.csv"},
            "width": 400,
            "height": 250,
            "layer": [
                {
            "mark": "bar",
                "encoding": {
                "x": {
                    "field": "School",
                    "type": "ordinal",
                    "title": "University"
                },
                "y": {
                    "aggregate": "sum",
                    "field": "Percent",
                    "type": "quantitative",
                    "title": "Percentage of Students"
                },
                "tooltip": [
                    {
                        "field": "Type",
                        "type": "nominal",
                        "title": "Gender"
                    },
                    {
                        "field": "Value",
                        "type": "quantitative",
                        "title": "Number of Students"
                    },
                    {
                        "field": "Percent",
                        "type": "quantitative",
                        "title": "Percent (%)"
                    }
                ],
                "color": {
                    "field": "Type",
                    "type": "nominal",
                    "scale": {
                        "domain": ["Female", "Male"],
                        "range": ["#ffb6c1", "#aec7e8"]
                        }}
                }}
            ,
            {"mark": "rule",
            "encoding": {
                "y":  {"field": "Percent", "aggregate": "mean" },
                "size": {"value": 2},
                "color": {"value": "grey"},
                "strokeDash": {"signal": "strokeDash"}
            }}
        ]}
        vegaEmbed('#stacked-bar', stacked_bar);
    
        var stacked_bar2 = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "Ethnicities at BC vs Peer Universities",
            "data": {"url": "data/otherschoolsethnicity.csv"},
            "width": 400,
            "height": 250,
            "layer": [
                {
            "mark": "bar",
                "encoding": {
                "x": {
                    "field": "School",
                    "type": "ordinal",
                    "title": "University"
                },
                "y": {
                    "aggregate": "sum",
                    "field": "Percent",
                    "type": "quantitative"
                },
                "tooltip": [
                    {
                        "field": "Type",
                        "type": "nominal",
                        "title": "Ethnicity"
                    },
                    {
                        "field": "Value",
                        "type": "quantitative",
                        "title": "Number of Students"
                    },
                    {
                        "field": "Percent",
                        "type": "quantitative",
                        "title": "Percent (%)"
                    }
                ],
                "color": {
                    "field": "Type",
                    "type": "nominal",
                    "scale": {"scheme": "set3"}
                }}
        }]
    }

        vegaEmbed('#stacked-bar2', stacked_bar2);


        var intl_line_chart = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "Number of International Students vs. Year",
            "width": "container",
            "height": "container",
            "data":{"url": "https://raw.githubusercontent.com/xcmackenzie/VisFinalProject/master/data/bcStudentsbyState.csv"},
            "transform": [{"filter": "datum.Location==='International'"}],
            "mark": {"type": "line", "tooltip": true},
            "encoding": {
                "x": {"field": "Year", "type": "temporal"},
                "y": {"field": "Value", "type": "quantitative"}
            }
        }
        vegaEmbed('#intl-line-chart',intl_line_chart)
    </script>
</body>
</html>      
